{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ToggleAnswer=_ref=>{let{options,onMeanValueChange,disable,selectedIndex}=_ref;const toggleRef=useRef(null);const[selectedOptionSize,setSelectedOptionSize]=useState({width:'0',height:'0'});const calculateTranslateValue=index=>{const toggleElement=toggleRef.current;if(!toggleElement)return'0px';const screenWidth=window.innerWidth;const containerSize=screenWidth<764?toggleElement.clientHeight:toggleElement.clientWidth;const selectedOptionSizeValue=containerSize/options.length;if(screenWidth<764){return`translateY(${index*selectedOptionSizeValue}px)`;}else{return`translateX(${index*selectedOptionSizeValue}px)`;}};const handleOptionClick=optionValue=>{if(!disable){onMeanValueChange(optionValue);// Notify parent with selected value\n}};useEffect(()=>{const toggleElement=toggleRef.current;if(toggleElement){const screenWidth=window.innerWidth;const containerSize=screenWidth<764?toggleElement.clientHeight:toggleElement.clientWidth;const selectedOptionSizeValue=containerSize/options.length;setSelectedOptionSize({width:screenWidth<764?'90vw':`${selectedOptionSizeValue}px`,height:screenWidth<764?`${100/options.length}%`:`${toggleElement.clientHeight}px`});}const handleResize=()=>{if(toggleRef.current){const toggleElement=toggleRef.current;const screenWidth=window.innerWidth;const containerSize=screenWidth<764?toggleElement.clientHeight:toggleElement.clientWidth;const selectedOptionSizeValue=containerSize/options.length;setSelectedOptionSize({width:screenWidth<764?'90vw':`${selectedOptionSizeValue}px`,height:screenWidth<764?`${100/options.length}%`:`${toggleElement.clientHeight}px`});}};window.addEventListener('resize',handleResize);return()=>{window.removeEventListener('resize',handleResize);};},[options.length]);return/*#__PURE__*/_jsxs(\"div\",{className:\" w-[90vw] sm:w-[60vw] h-24[vh] sm:h-[15vh] border-white border-2 rounded-lg sm:rounded-full grid sm:flex text-center items-start sm:items-center relative mb-4 overflow-hidden\",ref:toggleRef,children:[options.map((option,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"my-2 text-lg sm:text-xl flex-1 font-bold z-10 overflow-auto\",onClick:()=>handleOptionClick(index),style:{color:selectedIndex===index?'#645d57':'white',cursor:disable?'not-allowed':'pointer'},children:option.label},index)),/*#__PURE__*/_jsx(\"div\",{className:\"sm:rounded-full absolute z-0 bg-slate-50/50 transition-transform duration-300 ease-in-out transition-width transition-height\",style:{transform:calculateTranslateValue(selectedIndex),width:selectedOptionSize.width,height:selectedOptionSize.height}})]});};export default ToggleAnswer;","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","ToggleAnswer","_ref","options","onMeanValueChange","disable","selectedIndex","toggleRef","selectedOptionSize","setSelectedOptionSize","width","height","calculateTranslateValue","index","toggleElement","current","screenWidth","window","innerWidth","containerSize","clientHeight","clientWidth","selectedOptionSizeValue","length","handleOptionClick","optionValue","handleResize","addEventListener","removeEventListener","className","ref","children","map","option","onClick","style","color","cursor","label","transform"],"sources":["/Users/aoifemcloughlin/react_toggle_quiz_project/src/ToggleAnswer.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\n\ninterface Option {\n  label: string;\n  value: number;\n}\n\ninterface ToggleAnswerProps {\n  options: Option[];\n  onMeanValueChange: (value: number) => void;\n  disable: boolean;\n  selectedIndex: number; // Pass the selected value directly\n}\n\nconst ToggleAnswer: React.FC<ToggleAnswerProps> = ({\n  options,\n  onMeanValueChange,\n  disable,\n  selectedIndex,\n}) => {\n  const toggleRef = useRef<HTMLDivElement | null>(null);\n  const [selectedOptionSize, setSelectedOptionSize] = useState<{ width: string; height: string }>({ width: '0', height: '0' });\n\n  const calculateTranslateValue = (index: number): string => {\n    const toggleElement = toggleRef.current;\n    if (!toggleElement) return '0px';\n\n    const screenWidth = window.innerWidth;\n    const containerSize = screenWidth < 764 ? toggleElement.clientHeight : toggleElement.clientWidth;\n    const selectedOptionSizeValue = containerSize / options.length;\n\n    if (screenWidth < 764) {\n      return `translateY(${index * selectedOptionSizeValue}px)`;\n    } else {\n      return `translateX(${index * selectedOptionSizeValue}px)`;\n    }\n  };\n\n  const handleOptionClick = (optionValue: number) => {\n    if (!disable) {\n      onMeanValueChange(optionValue); // Notify parent with selected value\n    }\n  };\n\n  useEffect(() => {\n    const toggleElement = toggleRef.current;\n    if (toggleElement) {\n      const screenWidth = window.innerWidth;\n      const containerSize = screenWidth < 764 ? toggleElement.clientHeight : toggleElement.clientWidth;\n      const selectedOptionSizeValue = containerSize / options.length;\n\n      setSelectedOptionSize({\n        width: screenWidth < 764 ? '90vw' : `${selectedOptionSizeValue}px`,\n        height: screenWidth < 764 ? `${100 / options.length}%` : `${toggleElement.clientHeight}px`,\n      });\n    }\n\n    const handleResize = () => {\n      if (toggleRef.current) {\n        const toggleElement = toggleRef.current;\n        const screenWidth = window.innerWidth;\n        const containerSize = screenWidth < 764 ? toggleElement.clientHeight : toggleElement.clientWidth;\n        const selectedOptionSizeValue = containerSize / options.length;\n\n        setSelectedOptionSize({\n          width: screenWidth < 764 ? '90vw' : `${selectedOptionSizeValue}px`,\n          height: screenWidth < 764 ? `${100 / options.length}%` : `${toggleElement.clientHeight}px`,\n        });\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [options.length]);\n\n  return (\n    <div className=\" w-[90vw] sm:w-[60vw] h-24[vh] sm:h-[15vh] border-white border-2 rounded-lg sm:rounded-full grid sm:flex text-center items-start sm:items-center relative mb-4 overflow-hidden\" ref={toggleRef}>\n      {options.map((option, index) => (\n        <div\n          key={index}\n          className=\"my-2 text-lg sm:text-xl flex-1 font-bold z-10 overflow-auto\"\n          onClick={() => handleOptionClick(index)}\n          style={{\n            color: selectedIndex === index ? '#645d57' : 'white',\n            cursor: disable ? 'not-allowed' : 'pointer',\n          }}\n        >\n          {option.label}\n        </div>\n      ))}\n      <div className=\"sm:rounded-full absolute z-0 bg-slate-50/50 transition-transform duration-300 ease-in-out transition-width transition-height\"\n        style={{\n          transform: calculateTranslateValue(selectedIndex),\n          width: selectedOptionSize.width,\n          height: selectedOptionSize.height,\n        }}\n      />\n    </div>\n  );\n};\n\nexport default ToggleAnswer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}